{"ast":null,"code":"import { signal } from \"@preact/signals-react\";\nexport const cartState = signal([]);\nexport const add = itemid => {\n  let stateItemsForUpdate = cartState.value;\n  let filterForUpdate = stateItemsForUpdate.filter(item => item.id == itemid);\n  if (filterForUpdate.length > 0) stateItemsForUpdate.forEach(item => {\n    if (item.id == itemid) item.amount++;\n  });else stateItemsForUpdate.push({\n    id: itemid,\n    amount: 1\n  });\n  cartState.value = [...stateItemsForUpdate];\n  localStorage.setItem(\"cart\", JSON.stringify(cartState.value));\n};\nexport const less = itemid => {\n  let stateItemsForUpdate = cartState.value;\n  stateItemsForUpdate.forEach(item => {\n    if (item.id == itemid && item.amount >= 2) item.amount--;\n    if (item.id == itemid && item.amount === 1) {\n      let filterForUpdate = stateItemsForUpdate.filter(item => item.id != itemid);\n      console.log(\"filterForUpdate: \", filterForUpdate);\n      cartState.value = [...filterForUpdate];\n    }\n  });\n  cartState.value = [...stateItemsForUpdate];\n  localStorage.setItem(\"cart\", JSON.stringify(cartState.value));\n};","map":{"version":3,"names":["signal","cartState","add","itemid","stateItemsForUpdate","value","filterForUpdate","filter","item","id","length","forEach","amount","push","localStorage","setItem","JSON","stringify","less","console","log"],"sources":["C:/Users/USER/Documents/GitHub/hamechalek_client/src/store/cart.tsx"],"sourcesContent":["import { signal } from \"@preact/signals-react\";\r\n\r\nexport const cartState = signal<any>([]);\r\n\r\n\r\nexport const add = (itemid: string | undefined) => {\r\n    let stateItemsForUpdate = cartState.value;\r\n    let filterForUpdate = stateItemsForUpdate.filter((item: any) => item.id == itemid);\r\n    if (filterForUpdate.length > 0)\r\n        stateItemsForUpdate.forEach((item: any) => {\r\n            if (item.id == itemid)\r\n                item.amount++\r\n        });\r\n    else stateItemsForUpdate.push({ id: itemid, amount: 1 })\r\n\r\n\r\n    cartState.value = [...stateItemsForUpdate];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cartState.value));\r\n\r\n}\r\n\r\n\r\nexport const less = (itemid: string | undefined) => {\r\n    let stateItemsForUpdate = cartState.value;\r\n    stateItemsForUpdate.forEach((item: any) => {\r\n        if (item.id == itemid && item.amount >= 2)\r\n            item.amount--\r\n        if (item.id == itemid && item.amount === 1) {\r\n            let filterForUpdate = stateItemsForUpdate.filter((item: any) => item.id != itemid);\r\n            console.log(\"filterForUpdate: \", filterForUpdate);\r\n\r\n            cartState.value = [...filterForUpdate];\r\n        }\r\n    });\r\n    cartState.value = [...stateItemsForUpdate];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cartState.value));\r\n}\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,uBAAuB;AAE9C,OAAO,MAAMC,SAAS,GAAGD,MAAM,CAAM,EAAE,CAAC;AAGxC,OAAO,MAAME,GAAG,GAAIC,MAA0B,IAAK;EAC/C,IAAIC,mBAAmB,GAAGH,SAAS,CAACI,KAAK;EACzC,IAAIC,eAAe,GAAGF,mBAAmB,CAACG,MAAM,CAAEC,IAAS,IAAKA,IAAI,CAACC,EAAE,IAAIN,MAAM,CAAC;EAClF,IAAIG,eAAe,CAACI,MAAM,GAAG,CAAC,EAC1BN,mBAAmB,CAACO,OAAO,CAAEH,IAAS,IAAK;IACvC,IAAIA,IAAI,CAACC,EAAE,IAAIN,MAAM,EACjBK,IAAI,CAACI,MAAM,EAAE;EACrB,CAAC,CAAC,CAAC,KACFR,mBAAmB,CAACS,IAAI,CAAC;IAAEJ,EAAE,EAAEN,MAAM;IAAES,MAAM,EAAE;EAAE,CAAC,CAAC;EAGxDX,SAAS,CAACI,KAAK,GAAG,CAAC,GAAGD,mBAAmB,CAAC;EAC1CU,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAChB,SAAS,CAACI,KAAK,CAAC,CAAC;AAEjE,CAAC;AAGD,OAAO,MAAMa,IAAI,GAAIf,MAA0B,IAAK;EAChD,IAAIC,mBAAmB,GAAGH,SAAS,CAACI,KAAK;EACzCD,mBAAmB,CAACO,OAAO,CAAEH,IAAS,IAAK;IACvC,IAAIA,IAAI,CAACC,EAAE,IAAIN,MAAM,IAAIK,IAAI,CAACI,MAAM,IAAI,CAAC,EACrCJ,IAAI,CAACI,MAAM,EAAE;IACjB,IAAIJ,IAAI,CAACC,EAAE,IAAIN,MAAM,IAAIK,IAAI,CAACI,MAAM,KAAK,CAAC,EAAE;MACxC,IAAIN,eAAe,GAAGF,mBAAmB,CAACG,MAAM,CAAEC,IAAS,IAAKA,IAAI,CAACC,EAAE,IAAIN,MAAM,CAAC;MAClFgB,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEd,eAAe,CAAC;MAEjDL,SAAS,CAACI,KAAK,GAAG,CAAC,GAAGC,eAAe,CAAC;IAC1C;EACJ,CAAC,CAAC;EACFL,SAAS,CAACI,KAAK,GAAG,CAAC,GAAGD,mBAAmB,CAAC;EAC1CU,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAChB,SAAS,CAACI,KAAK,CAAC,CAAC;AACjE,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}