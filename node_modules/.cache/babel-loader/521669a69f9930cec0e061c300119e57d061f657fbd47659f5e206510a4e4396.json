{"ast":null,"code":"import _slicedToArray from\"C:/Users/USER/Documents/GitHub/hamechalek_client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/USER/Documents/GitHub/hamechalek_client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useEffect,useState}from'react';import styled from'styled-components';import Item from'../../components/item';import axios from'axios';import{useParams}from'react-router-dom';import Proccesing from'./Proccesing';import{GET_ITEMS}from'../../env';import{itemsCategoryState}from'../../store/items';import{jsx as _jsx}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-wrap: wrap;\\njustify-content: space-between;\\nalign-items: flex-start;\\nwidth: 100%;\\npadding-bottom: 90px;\\n\"])));var Items=function Items(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),procces=_useState2[0],setProcces=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),popUp=_useState4[0],setPopUp=_useState4[1];var _useParams=useParams(),catid=_useParams.catid;// let items = computed(() => (itemsCategoryState.value.length < 1));\nuseEffect(function(){if(itemsCategoryState.value.length<1||itemsCategoryState.value[0].item_group_id!=catid){axios.post(GET_ITEMS,{\"item_group_id\":catid}).then(function(res){itemsCategoryState.value=res.data;console.log(\"itemsCategoryState: \",itemsCategoryState.value);setProcces(false);}).catch(function(err){console.log(err);});}else{setProcces(false);}},[]);return/*#__PURE__*/_jsx(Container,{children:procces?/*#__PURE__*/_jsx(Proccesing,{}):itemsCategoryState.value.map(function(item,index){return/*#__PURE__*/_jsx(Item,{item:item},\"\".concat(index));})});};export default Items;","map":{"version":3,"names":["React","useEffect","useState","styled","Item","axios","useParams","Proccesing","GET_ITEMS","itemsCategoryState","jsx","_jsx","Container","div","_templateObject","_taggedTemplateLiteral","Items","props","_useState","_useState2","_slicedToArray","procces","setProcces","_useState3","_useState4","popUp","setPopUp","_useParams","catid","value","length","item_group_id","post","then","res","data","console","log","catch","err","children","map","item","index","concat"],"sources":["C:/Users/USER/Documents/GitHub/hamechalek_client/src/pages/Items/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components';\r\nimport Item from '../../components/item';\r\nimport itemsLocal from '../../data/items';\r\nimport { GetItems } from '../../functions/getItems';\r\nimport axios from 'axios';\r\nimport { useOutletContext, useParams } from 'react-router-dom';\r\nimport Proccesing from './Proccesing';\r\nimport { GET_ITEMS } from '../../env';\r\nimport OneItemPopUp from './OneItemPopUp';\r\nimport { AnimatePresence } from 'framer-motion';\r\nimport { itemsCategoryState } from '../../store/items';\r\nimport { computed } from \"@preact/signals\";\r\n\r\n\r\nconst Container = styled.div`\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\njustify-content: space-between;\r\nalign-items: flex-start;\r\nwidth: 100%;\r\npadding-bottom: 90px;\r\n`;\r\n\r\n\r\n\r\ntype ItemsType = {\r\n    item_id: String,\r\n    item_name: String,\r\n    item_group_id: String,\r\n    item_name_en: String,\r\n}\r\ntype Props = {}\r\n\r\nconst Items = (props: Props) => {\r\n    const [procces, setProcces] = useState<Boolean>(true)\r\n    const [popUp, setPopUp] = useState<Boolean>(false)\r\n    let { catid } = useParams();\r\n\r\n    // let items = computed(() => (itemsCategoryState.value.length < 1));\r\n\r\n    useEffect(() => {\r\n        if (itemsCategoryState.value.length < 1 || itemsCategoryState.value[0].item_group_id != catid) {\r\n\r\n            axios.post(GET_ITEMS, {\r\n                \"item_group_id\": catid\r\n            }).then((res) => {\r\n                itemsCategoryState.value = res.data;\r\n                console.log(\"itemsCategoryState: \", itemsCategoryState.value);\r\n                setProcces(false);\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            })\r\n\r\n        } else {\r\n            setProcces(false);\r\n        }\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    return (\r\n        <Container>\r\n            {\r\n                procces ? <Proccesing /> :\r\n                    itemsCategoryState.value.map((item: any, index: Number) => (\r\n                        <Item item={item} key={`${index}`}\r\n                        //  setPopUp={setPopUp} \r\n                        />\r\n                    ))\r\n            }\r\n            {/* <AnimatePresence>\r\n                {popUp ? <OneItemPopUp setPopUp={setPopUp} /> : \" \"}\r\n            </AnimatePresence> */}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Items\r\n"],"mappings":"gTAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,IAAI,KAAM,uBAAuB,CAGxC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAA2BC,SAAS,KAAQ,kBAAkB,CAC9D,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAASC,SAAS,KAAQ,WAAW,CAGrC,OAASC,kBAAkB,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAIvD,GAAM,CAAAC,SAAS,CAAGT,MAAM,CAACU,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,4IAO3B,CAYD,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAIC,KAAY,CAAK,CAC5B,IAAAC,SAAA,CAA8BhB,QAAQ,CAAU,IAAI,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA9CG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA0BrB,QAAQ,CAAU,KAAK,CAAC,CAAAsB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAgBrB,SAAS,CAAC,CAAC,CAArBsB,KAAK,CAAAD,UAAA,CAALC,KAAK,CAEX;AAEA3B,SAAS,CAAC,UAAM,CACZ,GAAIQ,kBAAkB,CAACoB,KAAK,CAACC,MAAM,CAAG,CAAC,EAAIrB,kBAAkB,CAACoB,KAAK,CAAC,CAAC,CAAC,CAACE,aAAa,EAAIH,KAAK,CAAE,CAE3FvB,KAAK,CAAC2B,IAAI,CAACxB,SAAS,CAAE,CAClB,eAAe,CAAEoB,KACrB,CAAC,CAAC,CAACK,IAAI,CAAC,SAACC,GAAG,CAAK,CACbzB,kBAAkB,CAACoB,KAAK,CAAGK,GAAG,CAACC,IAAI,CACnCC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAE5B,kBAAkB,CAACoB,KAAK,CAAC,CAC7DP,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CAACgB,KAAK,CAAC,SAACC,GAAG,CAAK,CACdH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CACpB,CAAC,CAAC,CAEN,CAAC,IAAM,CACHjB,UAAU,CAAC,KAAK,CAAC,CACrB,CAEJ,CAAC,CAAE,EAAE,CAAC,CAIN,mBACIX,IAAA,CAACC,SAAS,EAAA4B,QAAA,CAEFnB,OAAO,cAAGV,IAAA,CAACJ,UAAU,GAAE,CAAC,CACpBE,kBAAkB,CAACoB,KAAK,CAACY,GAAG,CAAC,SAACC,IAAS,CAAEC,KAAa,qBAClDhC,IAAA,CAACP,IAAI,EAACsC,IAAI,CAAEA,IAAK,KAAAE,MAAA,CAASD,KAAK,CAE9B,CAAC,EACL,CAAC,CAKH,CAAC,CAEpB,CAAC,CAED,cAAe,CAAA3B,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}