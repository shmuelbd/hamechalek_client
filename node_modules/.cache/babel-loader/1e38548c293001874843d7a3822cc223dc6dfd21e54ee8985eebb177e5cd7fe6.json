{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/USER/Documents/GitHub/hamechalek_client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useEffect,useState}from'react';import styled from'styled-components';import{motion}from\"framer-motion\";import{useParams}from'react-router-dom';import axios from'axios';import ItemDetails from'./ItemDetails';import{GET_ITEMS}from'../../env';import{itemsCategoryState}from'../../store/items';import{add,cartState,less}from'../../store/cart';import{Proccesing}from'./Proccesing';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled(motion.div)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-wrap: wrap;\\njustify-content: center;\\n\"])));const DivImage=styled(motion.div)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-wrap: wrap;\\njustify-content: center;\\nalign-items: center;\\nborder-radius: 50%;\\nwidth: 100%;\\nborder-radius: 20px;\\n/* min-height: 280px; */\\n/* overflow: hidden; */\\n\"])));const Image=styled(motion.img)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nsrc: \",\" ;\\nborder-radius: 50%;\\nobject-fit: cover;\\nwidth: 90%;\\nborder-radius: 20px;\\nvertical-align:middle;\\n\\n\"])),props=>props.src);const ItemName=styled(motion.p)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\nfont-size: 20px;\\nfont-weight: 600;\\ntext-align: right;\\nwidth: 90%;\\n\"])));const Buttons=styled(motion.div)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\ndisplay: flex;\\njustify-content: space-between;\\nalign-items: center;\\nalign-content:center;\\nwidth: 90%;\\nheight: 100px;\\nfont-size: 40px;\\npadding-top: 20px;\\n\"])));const Button=styled(motion.div)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nwidth: 25%;\\njustify-content: center;\\nbackground-color: #33b4ff1d;\\naspect-ratio: 1 / 1;\\nalign-items: center;\\nborder-radius: 50%;\\n    & span {\\n        font-size: 40px;\\n        color: #359cf7;\\n    }\\n\"])));const ItemPrice=styled(motion.div)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\ndisplay: flex;\\njustify-content: flex-end;\\nalign-items: flex-end;\\nwidth: 90%;\\nheight: 30px;\\nfont-size: 20px;\\nfont-weight: 800;\\ncolor: #1d1d1d;\\ntext-align: left;\\nmargin-bottom: 15px;\\n\"])));const Price_first=styled(motion.div)(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\nfont-size: 40px;\\nfont-weight: 900;\\npadding: 0 1px;\\nmargin-bottom: -5px;\\nfont-family: 'Rubik', sans-serif;\\n\"])));const Price_second=styled(motion.div)(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\nfont-size: 20px;\\nfont-weight: 400;\\n\"])));const OneItem=()=>{let{itemid,catid}=useParams();const[item,setItem]=useState();const[procces,setProcces]=useState(true);const price=item===null||item===void 0?void 0:item.sale_nis;const price_first=price===null||price===void 0?void 0:price.split(\".\")[0];const price_second=price===null||price===void 0?void 0:price.split(\".\")[1];useEffect(()=>{if(itemsCategoryState.value.length<1||itemsCategoryState.value.filter(val=>val.item_id==itemid).length<1){axios.post(GET_ITEMS,{\"item_group_id\":catid}).then(res=>{itemsCategoryState.value=res.data;console.log(\"itemsCategoryState: \",itemsCategoryState.value);setItem(itemsCategoryState.value.filter(val=>val.item_id==itemid)[0]);setProcces(false);// getImage();\n}).catch(err=>{console.log(err);});}else{setItem(itemsCategoryState.value.filter(val=>val.item_id==itemid)[0]);setProcces(false);// getImage();\n}},[]);return/*#__PURE__*/_jsx(Container,{children:procces?/*#__PURE__*/_jsx(Proccesing,{}):/*#__PURE__*/ // <Item item={item} key={`${index}`} />\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DivImage,{children:/*#__PURE__*/_jsx(Image,{loading:\"eager\",src:\"https://wrz.co.il/wp-content/uploads/2020/10/%D7%A9%D7%A7%D7%95%D7%A4%D7%99%D7%AA24-1.jpg\",alt:\"Avatar\"})}),/*#__PURE__*/_jsx(ItemName,{children:item.item_name}),/*#__PURE__*/_jsxs(ItemPrice,{children:[/*#__PURE__*/_jsxs(Price_second,{children:[price_second,\".\"]}),/*#__PURE__*/_jsx(Price_first,{children:price_first}),\"\\u20AA\"]}),/*#__PURE__*/_jsx(ItemDetails,{item:item}),/*#__PURE__*/_jsxs(Buttons,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>add(itemid),children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-rounded\",children:\"add\"})}),cartState.value.filter(val=>val.id==itemid)[0]?cartState.value.filter(val=>val.id==itemid)[0].amount:0,/*#__PURE__*/_jsx(Button,{onClick:()=>less(itemid),children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-rounded\",children:\"remove\"})})]})]})});};export default OneItem;","map":{"version":3,"names":["React","useEffect","useState","styled","motion","useParams","axios","ItemDetails","GET_ITEMS","itemsCategoryState","add","cartState","less","Proccesing","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","DivImage","_templateObject2","Image","img","_templateObject3","props","src","ItemName","p","_templateObject4","Buttons","_templateObject5","Button","_templateObject6","ItemPrice","_templateObject7","Price_first","_templateObject8","Price_second","_templateObject9","OneItem","itemid","catid","item","setItem","procces","setProcces","price","sale_nis","price_first","split","price_second","value","length","filter","val","item_id","post","then","res","data","console","log","catch","err","children","loading","alt","item_name","onClick","className","id","amount"],"sources":["C:/Users/USER/Documents/GitHub/hamechalek_client/src/components/oneItem/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components';\r\nimport { motion } from \"framer-motion\"\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport ItemDetails from './ItemDetails';\r\nimport { GET_ITEMS } from '../../env';\r\nimport { itemsCategoryState } from '../../store/items';\r\nimport { add, cartState, less } from '../../store/cart';\r\nimport { Proccesing } from './Proccesing';\r\n\r\nconst Container = styled(motion.div)`\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\njustify-content: center;\r\n`;\r\nconst DivImage = styled(motion.div)`\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\njustify-content: center;\r\nalign-items: center;\r\nborder-radius: 50%;\r\nwidth: 100%;\r\nborder-radius: 20px;\r\n/* min-height: 280px; */\r\n/* overflow: hidden; */\r\n`;\r\nconst Image = styled(motion.img) <{ src: string }>`\r\nsrc: ${(props) => props.src} ;\r\nborder-radius: 50%;\r\nobject-fit: cover;\r\nwidth: 90%;\r\nborder-radius: 20px;\r\nvertical-align:middle;\r\n\r\n`;\r\nconst ItemName = styled(motion.p)`\r\nfont-size: 20px;\r\nfont-weight: 600;\r\ntext-align: right;\r\nwidth: 90%;\r\n`;\r\nconst Buttons = styled(motion.div)`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\nalign-content:center;\r\nwidth: 90%;\r\nheight: 100px;\r\nfont-size: 40px;\r\npadding-top: 20px;\r\n`;\r\nconst Button = styled(motion.div)`\r\ndisplay: flex;\r\nwidth: 25%;\r\njustify-content: center;\r\nbackground-color: #33b4ff1d;\r\naspect-ratio: 1 / 1;\r\nalign-items: center;\r\nborder-radius: 50%;\r\n    & span {\r\n        font-size: 40px;\r\n        color: #359cf7;\r\n    }\r\n`;\r\nconst ItemPrice = styled(motion.div)`\r\ndisplay: flex;\r\njustify-content: flex-end;\r\nalign-items: flex-end;\r\nwidth: 90%;\r\nheight: 30px;\r\nfont-size: 20px;\r\nfont-weight: 800;\r\ncolor: #1d1d1d;\r\ntext-align: left;\r\nmargin-bottom: 15px;\r\n`;\r\nconst Price_first = styled(motion.div)`\r\nfont-size: 40px;\r\nfont-weight: 900;\r\npadding: 0 1px;\r\nmargin-bottom: -5px;\r\nfont-family: 'Rubik', sans-serif;\r\n`;\r\nconst Price_second = styled(motion.div)`\r\nfont-size: 20px;\r\nfont-weight: 400;\r\n`;\r\n\r\n\r\ntype ItemType = {\r\n    item_group_id: String,\r\n    item_name: String,\r\n    picture_link: String,\r\n    item_extended_description: String,\r\n    sale_nis: String\r\n}\r\n\r\nconst OneItem = () => {\r\n    let { itemid, catid } = useParams();\r\n\r\n    const [item, setItem] = useState<ItemType | any>()\r\n    const [procces, setProcces] = useState<Boolean>(true)\r\n\r\n    const price = item?.sale_nis;\r\n    const price_first = price?.split(\".\")[0];\r\n    const price_second = price?.split(\".\")[1];\r\n\r\n    useEffect(() => {\r\n        if (itemsCategoryState.value.length < 1 || itemsCategoryState.value.filter((val: any) => val.item_id == itemid).length < 1) {\r\n\r\n            axios.post(GET_ITEMS, {\r\n                \"item_group_id\": catid\r\n            }).then((res) => {\r\n                itemsCategoryState.value = res.data;\r\n                console.log(\"itemsCategoryState: \", itemsCategoryState.value);\r\n                setItem(itemsCategoryState.value.filter((val: any) => val.item_id == itemid)[0]);\r\n                setProcces(false);\r\n                // getImage();\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            })\r\n\r\n        } else {\r\n            setItem(itemsCategoryState.value.filter((val: any) => val.item_id == itemid)[0]);\r\n            setProcces(false);\r\n            // getImage();\r\n\r\n        }\r\n\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <Container>\r\n            {/* <Img /> */}\r\n            {\r\n                procces ? <Proccesing /> :\r\n                    // <Item item={item} key={`${index}`} />\r\n                    <>\r\n                        <DivImage>\r\n                            <Image loading={\"eager\"} src={\"https://wrz.co.il/wp-content/uploads/2020/10/%D7%A9%D7%A7%D7%95%D7%A4%D7%99%D7%AA24-1.jpg\"} alt=\"Avatar\" />\r\n                        </DivImage>\r\n                        <ItemName>{item.item_name}</ItemName>\r\n\r\n                        <ItemPrice>\r\n                            <Price_second>\r\n                                {price_second}.\r\n                            </Price_second>\r\n                            <Price_first>\r\n                                {price_first}\r\n                            </Price_first>\r\n                            ₪\r\n                        </ItemPrice>\r\n\r\n                        <ItemDetails item={item} />\r\n\r\n                        <Buttons>\r\n                            <Button onClick={() => add(itemid)}>\r\n                                <span className=\"material-symbols-rounded\">add</span>\r\n                            </Button>\r\n\r\n                            {\r\n                                cartState.value.filter((val: any) => val.id == itemid)[0] ? cartState.value.filter((val: any) => val.id == itemid)[0].amount\r\n                                    :\r\n                                    0\r\n                            }\r\n                            <Button onClick={() => less(itemid)}>\r\n                                <span className=\"material-symbols-rounded\">remove</span>\r\n                            </Button>\r\n                        </Buttons>\r\n                    </>\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default OneItem\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}