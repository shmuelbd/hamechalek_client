{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/USER/Documents/GitHub/hamechalek_client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useState}from'react';import{InputText}from'primereact/inputtext';import styled from'styled-components';import{motion}from'framer-motion';import axios from'axios';import{GET_TOKEN_LOGIN}from'../../../env';import{userDetails}from'../../../store/user';import{useNavigate}from\"react-router-dom\";import{Botton}from'../../../components/global-components/buttons/buttons';import{BoxFiled}from'../../../components/global-components/inputs/inputs';import ProgressBarCustom from'../../../components/global-components/progressBar/progressBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled(motion.div)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-wrap: wrap;\\njustify-content: center;\\nwidth: 100%;\\nmargin-top: 10px;\\n\"])));const Title=styled(motion.div)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nwidth: 100%;\\nfont-size: 20px;\\nfont-weight: 900;\\ntext-align: center;\\nheight: 80px;\\n\"])));const Login=props=>{const[loading,setLoading]=useState({email:\"\"});const[ProgressBar,setProgressBar]=useState(false);const navigate=useNavigate();const load=async()=>{setProgressBar(true);axios.post(GET_TOKEN_LOGIN,{\"email\":loading.email,\"password\":loading.password}).then(res=>{setProgressBar(false);setLoading(false);const token={token:res.data.token,first_name:res.data.first_name};userDetails.value=token;localStorage.setItem(\"user\",JSON.stringify(token));navigate(\"/myaccount\");}).catch(err=>{console.log(err);setProgressBar(false);});};const styleBox={width:'100%',color:'black',border:'none',backgroundColor:\"#f3f3f3ca\"};return/*#__PURE__*/_jsxs(_Fragment,{children:[ProgressBar?/*#__PURE__*/_jsx(ProgressBarCustom,{}):null,/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\u05DB\\u05E0\\u05D9\\u05E1\\u05D4\"}),/*#__PURE__*/_jsxs(BoxFiled,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",children:\"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\"}),/*#__PURE__*/_jsx(InputText,{id:\"first_name\",type:\"email\",\"aria-describedby\":\"first_name-help\",style:styleBox,onChange:e=>setLoading(state=>({...state,email:e.target.value}))})]}),/*#__PURE__*/_jsxs(BoxFiled,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",children:\"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"}),/*#__PURE__*/_jsx(InputText,{id:\"first_name\",type:\"password\",\"aria-describedby\":\"first_name-help\",style:styleBox,onChange:e=>setLoading(state=>({...state,password:e.target.value}))})]}),/*#__PURE__*/_jsxs(Botton,{onClick:load,children:[\"\\u05DB\\u05E0\\u05D9\\u05E1\\u05D4\",/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-rounded\",children:\"login\"})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","InputText","styled","motion","axios","GET_TOKEN_LOGIN","userDetails","useNavigate","Botton","BoxFiled","ProgressBarCustom","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","Title","_templateObject2","Login","props","loading","setLoading","email","ProgressBar","setProgressBar","navigate","load","post","password","then","res","token","data","first_name","value","localStorage","setItem","JSON","stringify","catch","err","console","log","styleBox","width","color","border","backgroundColor","children","htmlFor","id","type","style","onChange","e","state","target","onClick","className"],"sources":["C:/Users/USER/Documents/GitHub/hamechalek_client/src/pages/Account/login/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Button } from 'primereact/button';\r\nimport styled from 'styled-components';\r\nimport { motion } from 'framer-motion';\r\nimport axios from 'axios';\r\nimport { GET_TOKEN_LOGIN } from '../../../env';\r\nimport { userDetails } from '../../../store/user';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Botton } from '../../../components/global-components/buttons/buttons';\r\nimport { BoxFiled } from '../../../components/global-components/inputs/inputs';\r\nimport ProgressBarCustom from '../../../components/global-components/progressBar/progressBar';\r\n\r\nconst Container = styled(motion.div)`\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\njustify-content: center;\r\nwidth: 100%;\r\nmargin-top: 10px;\r\n`;\r\n\r\nconst Title = styled(motion.div)`\r\nwidth: 100%;\r\nfont-size: 20px;\r\nfont-weight: 900;\r\ntext-align: center;\r\nheight: 80px;\r\n`;\r\n\r\n\r\n\r\ntype Props = {}\r\n\r\nconst Login = (props: Props) => {\r\n    const [loading, setLoading] = useState<any>({ email: \"\" });\r\n    const [ProgressBar, setProgressBar] = useState<boolean>(false);\r\n    const navigate = useNavigate();\r\n\r\n    const load = async () => {\r\n        setProgressBar(true)\r\n        axios.post(GET_TOKEN_LOGIN, {\r\n\r\n            \"email\": loading.email,\r\n            \"password\": loading.password\r\n\r\n        }).then((res) => {\r\n            setProgressBar(false)\r\n            setLoading(false);\r\n            const token = { token: res.data.token, first_name: res.data.first_name }\r\n            userDetails.value = token;\r\n            localStorage.setItem(\"user\", JSON.stringify(token))\r\n            navigate(\"/myaccount\");\r\n\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            setProgressBar(false)\r\n        })\r\n\r\n    };\r\n    const styleBox = {\r\n        width: '100%',\r\n        color: 'black',\r\n        border: 'none',\r\n        backgroundColor: \"#f3f3f3ca\",\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {ProgressBar ? <ProgressBarCustom /> : null}\r\n            <Container>\r\n                <Title>כניסה</Title>\r\n                <BoxFiled>\r\n                    <label htmlFor=\"first_name\">אימייל</label>\r\n                    <InputText id=\"first_name\"\r\n                        type='email'\r\n                        aria-describedby=\"first_name-help\"\r\n                        style={styleBox}\r\n                        onChange={(e) => setLoading((state: any) => ({ ...state, email: e.target.value }))} />\r\n                    {/* <small id=\"first_name-help\">\r\n                                מקסימום 20 תווים\r\n                            </small> */}\r\n                </BoxFiled>\r\n                <BoxFiled>\r\n                    <label htmlFor=\"first_name\">סיסמה</label>\r\n                    <InputText id=\"first_name\"\r\n                        type='password'\r\n                        aria-describedby=\"first_name-help\"\r\n                        style={styleBox}\r\n                        onChange={(e) => setLoading((state: any) => ({ ...state, password: e.target.value }))} />\r\n                    {/* <small id=\"first_name-help\">\r\n                                מקסימום 20 תווים\r\n                            </small> */}\r\n                </BoxFiled>\r\n\r\n                <Botton onClick={load}>\r\n                    כניסה\r\n                    <span className=\"material-symbols-rounded\">login</span>\r\n\r\n                </Botton>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}