{"ast":null,"code":"import'material-symbols';import Router from'./pages/Router';import{useEffect}from'react';import{GET_TOKEN_VERIFY}from'./env';import axios from'axios';import{userDetails}from'./store/user';import{jsx as _jsx}from\"react/jsx-runtime\";const App=props=>{useEffect(()=>{if(localStorage.getItem(\"user\")!=null){const tokenjson=JSON.parse(localStorage.getItem(\"user\")||\"\");axios.post(GET_TOKEN_VERIFY,{\"token\":tokenjson.token}).then(res=>{const token={token:res.data.token,first_name:res.data.first_name};userDetails.value=token;localStorage.setItem(\"user\",JSON.stringify(token));}).catch(err=>{console.log(err);});userDetails.value=tokenjson.token;}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Router,{})});};export default App;","map":{"version":3,"names":["Router","useEffect","GET_TOKEN_VERIFY","axios","userDetails","jsx","_jsx","App","props","localStorage","getItem","tokenjson","JSON","parse","post","token","then","res","data","first_name","value","setItem","stringify","catch","err","console","log","className","children"],"sources":["C:/Users/USER/Documents/GitHub/hamechalek_client/src/App.tsx"],"sourcesContent":["import 'material-symbols';\r\nimport Router from './pages/Router';\r\nimport { useEffect } from 'react';\r\nimport { GET_TOKEN_VERIFY } from './env';\r\nimport axios from 'axios';\r\nimport { userDetails } from './store/user';\r\n\r\n\r\ntype Props = {}\r\n\r\nconst App = (props: Props) => {\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"user\") != null) {\r\n      const tokenjson = JSON.parse(localStorage.getItem(\"user\") || \"\");\r\n\r\n      axios.post(GET_TOKEN_VERIFY, {\r\n        \"token\": tokenjson.token\r\n      }).then((res) => {\r\n        const token = { token: res.data.token, first_name: res.data.first_name }\r\n        userDetails.value = token;\r\n        localStorage.setItem(\"user\", JSON.stringify(token))\r\n      }).catch((err) => {\r\n        console.log(err);\r\n      })\r\n\r\n\r\n\r\n      userDetails.value = tokenjson.token;\r\n    }\r\n\r\n\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA,MAAO,kBAAkB,CACzB,MAAO,CAAAA,MAAM,KAAM,gBAAgB,CACnC,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,gBAAgB,KAAQ,OAAO,CACxC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAK3C,KAAM,CAAAC,GAAG,CAAIC,KAAY,EAAK,CAE5BP,SAAS,CAAC,IAAM,CACd,GAAIQ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAAE,CACxC,KAAM,CAAAC,SAAS,CAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,EAAE,CAAC,CAEhEP,KAAK,CAACW,IAAI,CAACZ,gBAAgB,CAAE,CAC3B,OAAO,CAAES,SAAS,CAACI,KACrB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,EAAK,CACf,KAAM,CAAAF,KAAK,CAAG,CAAEA,KAAK,CAAEE,GAAG,CAACC,IAAI,CAACH,KAAK,CAAEI,UAAU,CAAEF,GAAG,CAACC,IAAI,CAACC,UAAW,CAAC,CACxEf,WAAW,CAACgB,KAAK,CAAGL,KAAK,CACzBN,YAAY,CAACY,OAAO,CAAC,MAAM,CAAET,IAAI,CAACU,SAAS,CAACP,KAAK,CAAC,CAAC,CACrD,CAAC,CAAC,CAACQ,KAAK,CAAEC,GAAG,EAAK,CAChBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CAIFpB,WAAW,CAACgB,KAAK,CAAGT,SAAS,CAACI,KAAK,CACrC,CAGF,CAAC,CAAE,EAAE,CAAC,CAGN,mBACET,IAAA,QAAKqB,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBtB,IAAA,CAACN,MAAM,GAAE,CAAC,CACP,CAAC,CAEV,CAAC,CAED,cAAe,CAAAO,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}