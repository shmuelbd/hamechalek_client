{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/USER/Documents/GitHub/hamechalek_client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useEffect,useState}from'react';import styled from'styled-components';import Item from'../../components/item';import axios from'axios';import{useParams}from'react-router-dom';import Proccesing from'./Proccesing';import{GET_ITEMS}from'../../env';import{itemsCategoryState}from'../../store/items';import{jsx as _jsx}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-wrap: wrap;\\njustify-content: space-between;\\nalign-items: flex-start;\\nwidth: 100%;\\npadding-bottom: 90px;\\n\"])));const Items=props=>{const[procces,setProcces]=useState(true);const[popUp,setPopUp]=useState(false);let{catid}=useParams();// let items = computed(() => (itemsCategoryState.value.length < 1));\nuseEffect(()=>{if(itemsCategoryState.value.length<1||itemsCategoryState.value[0].item_group_id!=catid){axios.post(GET_ITEMS,{\"item_group_id\":catid}).then(res=>{itemsCategoryState.value=res.data;console.log(\"itemsCategoryState: \",itemsCategoryState.value);setProcces(false);}).catch(err=>{console.log(err);});}else{setProcces(false);}},[]);return/*#__PURE__*/_jsx(Container,{children:procces?/*#__PURE__*/_jsx(Proccesing,{}):itemsCategoryState.value.map((item,index)=>/*#__PURE__*/_jsx(Item,{item:item},\"\".concat(index)))});};export default Items;","map":{"version":3,"names":["React","useEffect","useState","styled","Item","axios","useParams","Proccesing","GET_ITEMS","itemsCategoryState","jsx","_jsx","Container","div","_templateObject","_taggedTemplateLiteral","Items","props","procces","setProcces","popUp","setPopUp","catid","value","length","item_group_id","post","then","res","data","console","log","catch","err","children","map","item","index","concat"],"sources":["C:/Users/USER/Documents/GitHub/hamechalek_client/src/pages/Items/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components';\r\nimport Item from '../../components/item';\r\nimport itemsLocal from '../../data/items';\r\nimport { GetItems } from '../../functions/getItems';\r\nimport axios from 'axios';\r\nimport { useOutletContext, useParams } from 'react-router-dom';\r\nimport Proccesing from './Proccesing';\r\nimport { GET_ITEMS } from '../../env';\r\nimport OneItemPopUp from './OneItemPopUp';\r\nimport { AnimatePresence } from 'framer-motion';\r\nimport { itemsCategoryState } from '../../store/items';\r\nimport { computed } from \"@preact/signals\";\r\n\r\n\r\nconst Container = styled.div`\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\njustify-content: space-between;\r\nalign-items: flex-start;\r\nwidth: 100%;\r\npadding-bottom: 90px;\r\n`;\r\n\r\n\r\n\r\ntype ItemsType = {\r\n    item_id: String,\r\n    item_name: String,\r\n    item_group_id: String,\r\n    item_name_en: String,\r\n}\r\ntype Props = {}\r\n\r\nconst Items = (props: Props) => {\r\n    const [procces, setProcces] = useState<Boolean>(true)\r\n    const [popUp, setPopUp] = useState<Boolean>(false)\r\n    let { catid } = useParams();\r\n\r\n    // let items = computed(() => (itemsCategoryState.value.length < 1));\r\n\r\n    useEffect(() => {\r\n        if (itemsCategoryState.value.length < 1 || itemsCategoryState.value[0].item_group_id != catid) {\r\n\r\n            axios.post(GET_ITEMS, {\r\n                \"item_group_id\": catid\r\n            }).then((res) => {\r\n                itemsCategoryState.value = res.data;\r\n                console.log(\"itemsCategoryState: \", itemsCategoryState.value);\r\n                setProcces(false);\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            })\r\n\r\n        } else {\r\n            setProcces(false);\r\n        }\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    return (\r\n        <Container>\r\n            {\r\n                procces ? <Proccesing /> :\r\n                    itemsCategoryState.value.map((item: any, index: Number) => (\r\n                        <Item item={item} key={`${index}`}\r\n                        //  setPopUp={setPopUp} \r\n                        />\r\n                    ))\r\n            }\r\n            {/* <AnimatePresence>\r\n                {popUp ? <OneItemPopUp setPopUp={setPopUp} /> : \" \"}\r\n            </AnimatePresence> */}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Items\r\n"],"mappings":"0KAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,IAAI,KAAM,uBAAuB,CAGxC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAA2BC,SAAS,KAAQ,kBAAkB,CAC9D,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAASC,SAAS,KAAQ,WAAW,CAGrC,OAASC,kBAAkB,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAIvD,KAAM,CAAAC,SAAS,CAAGT,MAAM,CAACU,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,4IAO3B,CAYD,KAAM,CAAAC,KAAK,CAAIC,KAAY,EAAK,CAC5B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAU,IAAI,CAAC,CACrD,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAU,KAAK,CAAC,CAClD,GAAI,CAAEoB,KAAM,CAAC,CAAGhB,SAAS,CAAC,CAAC,CAE3B;AAEAL,SAAS,CAAC,IAAM,CACZ,GAAIQ,kBAAkB,CAACc,KAAK,CAACC,MAAM,CAAG,CAAC,EAAIf,kBAAkB,CAACc,KAAK,CAAC,CAAC,CAAC,CAACE,aAAa,EAAIH,KAAK,CAAE,CAE3FjB,KAAK,CAACqB,IAAI,CAAClB,SAAS,CAAE,CAClB,eAAe,CAAEc,KACrB,CAAC,CAAC,CAACK,IAAI,CAAEC,GAAG,EAAK,CACbnB,kBAAkB,CAACc,KAAK,CAAGK,GAAG,CAACC,IAAI,CACnCC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEtB,kBAAkB,CAACc,KAAK,CAAC,CAC7DJ,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CAACa,KAAK,CAAEC,GAAG,EAAK,CACdH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CACpB,CAAC,CAAC,CAEN,CAAC,IAAM,CACHd,UAAU,CAAC,KAAK,CAAC,CACrB,CAEJ,CAAC,CAAE,EAAE,CAAC,CAIN,mBACIR,IAAA,CAACC,SAAS,EAAAsB,QAAA,CAEFhB,OAAO,cAAGP,IAAA,CAACJ,UAAU,GAAE,CAAC,CACpBE,kBAAkB,CAACc,KAAK,CAACY,GAAG,CAAC,CAACC,IAAS,CAAEC,KAAa,gBAClD1B,IAAA,CAACP,IAAI,EAACgC,IAAI,CAAEA,IAAK,KAAAE,MAAA,CAASD,KAAK,CAE9B,CACJ,CAAC,CAKH,CAAC,CAEpB,CAAC,CAED,cAAe,CAAArB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}